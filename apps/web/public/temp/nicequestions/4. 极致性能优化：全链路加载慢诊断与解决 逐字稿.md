# 极致性能优化：全链路加载慢诊断与解决

## 面试官提问

"如果用户反馈页面加载很慢，你会怎么去排查？有什么具体的思路或者工具吗？不要只说‘压缩图片’这种点，我想听听你的系统性思路。"

## 面试高分回答 (逐字稿)

"遇到页面加载慢，我不会上来就瞎优化。我的习惯是**先诊断，后治理**。

首先，我会用 **Chrome DevTools 的 Performance 面板** 或者 **Lighthouse** 跑一下分，看看到底慢在哪里。是 TTFB 慢（后端问题），还是资源下载慢（网络问题），还是 JS 执行慢（长任务阻塞）。

如果是网络慢，我会上 CDN、开启 HTTP/2、做 Brotli 压缩。

如果是资源大，我会做路由懒加载 (Code Splitting)，把非首屏的 JS 拆出去；图片转 WebP。

如果是渲染卡，我会看是不是有 Long Task 阻塞了主线程，考虑用 Web Worker 或者 React 的并发模式来优化。

此外，我还会建立性能监控体系，利用 **PerformanceObserver** 收集线上的 Web Vitals 指标，持续跟踪优化效果。"