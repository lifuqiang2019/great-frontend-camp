# 前端性能监控指标采集方案

## 简短回答

我们主要关注 Google 提出的 **Web Vitals** 核心指标：
**LCP (最大内容绘制)**：衡量加载速度。
**FID (首次输入延迟)**：衡量交互响应度。
**CLS (累积布局偏移)**：衡量视觉稳定性（页面有没有乱跳）。

---

### 1. LCP 监控代码实现

```javascript
// 监听 LCP (Largest Contentful Paint)
const observer = new PerformanceObserver((entryList) => {
  const entries = entryList.getEntries();
  const lastEntry = entries[entries.length - 1];
  console.log('LCP:', lastEntry.startTime);
  
  // 上报数据
  navigator.sendBeacon('/api/log', JSON.stringify({
    metric: 'LCP',
    value: lastEntry.startTime
  }));
});

observer.observe({ type: 'largest-contentful-paint', buffered: true });
```