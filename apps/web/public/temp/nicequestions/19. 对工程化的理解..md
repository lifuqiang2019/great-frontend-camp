# 对工程化的理解.

## 简短回答

工程化的目的是把**“人治”**变成**“法治”**。
靠文档规定“不要用 var”，不如 ESLint 直接报错；
靠大家自觉“提交前跑测试”，不如 Git Hooks 强制拦截。
把最佳实践固化到工具链里，团队才能在人员变动中保持代码质量的底线。

---

## 1. 规范化 (Linting)

ESLint 负责代码质量（查 Bug），Prettier 负责代码风格（查格式）。

**.eslintrc.js**
```javascript
module.exports = {
  extends: ['eslint:recommended', 'plugin:react/recommended'],
  rules: {
    'no-console': 'warn', // 生产环境不准留 console.log
    'react/prop-types': 'off', // TS 项目不需要 prop-types
    'eqeqeq': 'error' // 必须用 ===，不能用 ==
  }
};
```

## 2. 自动化 (Git Hooks)

使用 **husky** 监听 Git 钩子，使用 **lint-staged** 只检查本次修改的文件（增量检查），速度快。

**工作流**：
当你执行 `git commit -m "feat: xxx"` 时：
1.  Husky 拦截 commit 命令。
2.  触发 pre-commit 钩子。
3.  Lint-staged 运行 ESLint 和 Prettier 检查暂存区文件。
4.  如果有报错，**阻止提交**；如果通过，自动修复格式并提交。

```json
// package.json
{
  "lint-staged": {
    "*.{js,jsx,ts,tsx}": [
      "eslint --fix", // 自动修复简单的 Lint 错误
      "prettier --write" // 强制格式化
    ]
  }
}
```
