# 事件循环 - 以下代码输出结果

```javascript
setTimeout(() => {  
console.log('timeout')  
});  
  
function test () {  
console.log('test');  
return Promise.resolve().then(() => {  
test()  
});  
}  
  
test();

**考察重点：** 事件循环中，宏任务与微任务的执行优先级。

**答案：** 持续输出 test 且 不会输出 timeout (重点)

**解释：** 微任务执行优先级高于宏任务，pormise.then callback 会挂载到微任务队列，而 setTimeout callback 会挂载到宏任务队列，每次在执行微任务队列任务时，又重新执行 test()，test运行时会往微任务队列中添加一个微任务，如此循环，所以宏任务队列始终没机会，所以不会输出 timeout。

```
