# Vue3 的 最长递增子序列 算法

```javascript
// 给定一个数组，求他的最长递增子序列  
  
// const arr = \[10, 30, 200, 300, 40, 50, 60\];  
// 输出：\[10, 30, 40, 50, 60\]  
  
// const arr = \[10, 30, 200, 300, 400, 50, 60\];  
// 输出：\[10, 30, 200, 300, 400\]  
  
// 思路: 贪心算法 + 二分查找 + 反向链表  
  
const getSequence = (arr) => {  
const p = arr.slice() // 复制原数组，用于构建反向链表  
const result = \[0\] // 定义结果序列，用于返回最终结果  
let i, j, u, v, c  
const len = arr.length  
for (i = 0; i < len; i++) { // 遍历原数组  
const arrI = arr\[i\]  
if (arrI !== 0) {  
j = result\[result.length - 1\] // 获取结果序列最后一位索引值  
if (arr\[j\] < arrI) { // 判断 当前值 大于 结果序列最后一位  
p\[i\] = j // 记录反向链表，指向 结果序列最后一位  
result.push(i) // 把 i 添加到结果序列末尾  
continue  
}  
u = 0  
v = result.length - 1  
while (u < v) { // 二分查找  
c = (u + v) >> 1  
if (arr\[result\[c\]\] < arrI) {  
u = c + 1  
} else {  
v = c  
}  
}  
if (arrI < arr\[result\[u\]\]) { // 找到第一位比当前值大的值  
if (u > 0) {  
p\[i\] = result\[u - 1\] // 记录反向链表，指向 结果序列前一位  
}  
result\[u\] = i // 用当前索引值 i，替换原来的值  
}  
}  
}  
u = result.length  
v = result\[u - 1\]  
while (u-- > 0) { // 从后往前遍历，回溯修正 结果序列  
result\[u\] = v  
v = p\[v\]  
}  
return result // 返回结果序列  
}  
  
const arr = \[10, 30, 200, 300, 40, 50, 60\];  
const result = \[10, 30, 40, 50, 60\];  
  
// 有问题，这样只能记录长度：  
const arr = \[10, 30, 200, 300, 400, 50, 60\];  
const result = \[10, 30, 50, 60, 400\];  
  
// 修正：  
const arr = \[10, 30, 200, 300, 400, 50, 60\];  
const p = \[10, 0, 1, 2, 3, 1, 5\]  
const result = \[0, 1, 2, 3, 4\]  
const result = \[10, 30, 50, 60, 400\]

```
