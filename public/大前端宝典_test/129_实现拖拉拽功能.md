# 实现拖拉拽功能

```javascript
<!DOCTYPE html>  
<html>  
<head></head>  
<body>  
<div id="box" style="  
position: absolute;  
left: 0;  
top: 0;  
width: 100px;  
height: 100px;  
background: blue;"  
\></div>  
  
<script type="text/javascript">  
const box = document.getElementById('box');  
  
let moving = false;  
let xBuffer = 0;  
let yBuffer = 0;  
  
document.addEventListener('mousedown', (e) => {  
if (moving && e.target.id !== 'box') { return; }  
const { left, top } = box.style;  
const { clientX, clientY } = e;  
moving = true;  
xBuffer = clientX - Number(left.substr(0, left.indexOf('px')));  
yBuffer = clientY - Number(top.substr(0, top.indexOf('px')));  
});  
  
document.addEventListener('mousemove', (e) => {  
if (!moving) { return; }  
box.style.left = (e.clientX - xBuffer) + 'px';  
box.style.top = (e.clientY - yBuffer) + 'px';  
});  
  
document.addEventListener('mouseup', (e) => {  
if (!moving) { return; }  
moving = false;  
});  
</script>  
</body>  
</html>

```
