# 不同类型宏任务的优先级

刷新页面后，点击 test 按钮，5s 后页面会输出什么？

```javascript
<!DOCTYPE html>  
<html>  
<head></head>  
<body>  
<button id="test">测试</button>  
<script type="text/javascript">  
function wait(time) {  
const start = Date.now();  
while(Date.now() - start < time) {}  
}  
  
document.getElementById('test').addEventListener('click', () => {  
console.log('click');  
});  
  
setTimeout(() => {  
console.log('setTimeout');  
}, 0);  
  
wait(5000); // 阻塞页面 5s  
</script>  
</body>  
</html>

当页面初始化时，生成了一个延时类型宏任务，并且页面会被阻塞5秒，而在这5s内，点击 test 按钮，新创建了交互类型的宏任务，而交互类型的宏任务优先级要高于延时类型，因此最终页面会先输出 click ，再输出 setTimeout 。

```
