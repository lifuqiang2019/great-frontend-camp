# 发起请求是浏览器做了什么。

- **发送请求头 ：** 浏览器向目标服务器发送一个请求，其中包含了请求方法（GET、POST等）和请求的 URL 。检查 同源策略 ，浏览器会检查目标URL是否符合同源策略。它会比较目标URL的协议、主机和端口号与当前网页的协议、主机和端口号是否一致。 如果不一致，就会触发跨域请求。
- **发送跨域请求：** 如果目标 URL 与当前网页不同源，浏览器会发送一个跨域请求。跨域请求通常是一个HTTP OPTIONS 预检请求（preflight request），用于检查目标服务器是否允许跨域请求。
- **服务器处理预检请求：** 目标服务器接收到预检请求后，会进行一系列的处理。它会检查请求中的一些特定头部信息，如 Origin 和 Access-Control-Request-Method ，来验证是否允许跨域请求。
- **发送响应头：** 如果服务器允许跨域请求，它会在响应中添加一些特定的头部信息，如 Access-Control-Allow-Origin 和 Access-Control-Allow-Methods 。这些头部信息告诉浏览器该请求是被允许的。
- **检查响应头：** 浏览器接收到服务器的响应后，会检查响应中的头部信息。它会查看 Access-Control-Allow-Origin 头部， 判断是否允许当前网页进行跨域请求 。
- **处理响应数据：** 如果服务器 允许 跨域请求 ，浏览器会将 响应数据返回 给发起请求的网页。 否则 ，浏览器将拒绝访问响应数据，并在控制台中 报错 。
