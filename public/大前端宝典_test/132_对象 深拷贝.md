# 对象 深拷贝

```javascript
// 方案1  
JSON.parse(JSON.stringify());  
  
// 方案2  
const deepClone = function(obj) {  
if (typeof obj !== 'object' || obj === null) {  
return obj;  
}  
  
let copyObj;  
if (Array.isArray(obj)) {  
copyObj = \[\];  
for (let i = 0; i < obj.length; ++i) {  
copyObj.push(deepClone(obj\[i\]));  
}  
} else if (obj instanceof Set) {  
copyObj = new Set(\[ ...obj \]);  
} else if (obj instanceof Map) {  
copyObj = new Map(\[ ...obj \]);  
} else {  
copyObj = {};  
Reflect.ownKeys(obj).forEach(key => {  
copyObj\[key\] = deepClone(obj\[key\]);  
});  
}  
  
return copyObj;  
}  
  
const obj = {  
\[Symbol('a')\]: '1111',  
set: new Set(\[1,2,3\]),  
map: new Map(\[\['a', 1\], \['b', 2\]\]),  
a: 1,  
b: '2',  
c: true,  
d: \[{  
d1: 1  
}, {  
d2: 2  
}\],  
e: {  
e1: 1,  
e2: 2  
},  
f: function() {  
console.log('function', 123);  
}  
}  
  
const fObj = deepClone(obj);  
console.log(fObj);  
  
fObj.f = function() {  
console.log('function', 456);  
}  
obj.f();  
fObj.f();  
  
fObj.d\[0\].d1 = 111;  
console.log(fObj.d\[0\].d1);  
console.log(obj.d\[0\].d1);  
  
fObj.e.e1 = 222;  
console.log(fObj.e.e1);  
console.log(obj.e.e1);  
  
fObj.set.add(4);  
console.log(fObj.set);  
console.log(obj.set);  
  
fObj.map.set('a', 333);  
console.log(fObj.map);  
console.log(obj.map);  
  
Reflect.ownKeys(fObj).forEach(key => {  
obj\[key\] = 1;  
})  
console.log(fObj);  
console.log(obj);

```
