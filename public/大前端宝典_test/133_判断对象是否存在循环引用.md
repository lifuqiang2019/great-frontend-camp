# 判断对象是否存在循环引用

```javascript
function hasCircularReference(obj, visited = new WeakSet()) {  
if (obj && typeof obj === 'object') {  
if (visited.has(obj)) {  
return true; // 出现循环引用  
}  
visited.add(obj);  
const keys = Reflect.ownKeys(obj);  
for (let i = 0; i < keys.length; i++) {  
if (hasCircularReference(obj\[keys\[i\]\], visited)) {  
return true;  
}  
}  
_visited.delete(obj);_  
}  
return false;  
}  
  
const obj = { a: 1 };  
obj\[Symbol('d')\] = obj;  
console.log(hasCircularReference(obj));

```
